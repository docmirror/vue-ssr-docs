<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Руководство по серверному рендерингу Vue.js | Руководство Vue SSR</title>
    <meta name="description" content="Руководство по серверному рендерингу Vue.js">
    
    
    <link rel="preload" href="/site/assets/css/0.styles.1ec459c2.css" as="style"><link rel="preload" href="/site/assets/js/app.5a972c74.js" as="script"><link rel="preload" href="/site/assets/js/30.c5eb0f84.js" as="script"><link rel="prefetch" href="/site/assets/js/31.e70f56c9.js"><link rel="prefetch" href="/site/assets/js/1.4ba6ebae.js"><link rel="prefetch" href="/site/assets/js/2.535f3c53.js"><link rel="prefetch" href="/site/assets/js/3.e5730be8.js"><link rel="prefetch" href="/site/assets/js/4.0d83e6d4.js"><link rel="prefetch" href="/site/assets/js/5.9206f5fa.js"><link rel="prefetch" href="/site/assets/js/6.01fc6541.js"><link rel="prefetch" href="/site/assets/js/7.044d3af9.js"><link rel="prefetch" href="/site/assets/js/8.6a2b3380.js"><link rel="prefetch" href="/site/assets/js/9.63f778c7.js"><link rel="prefetch" href="/site/assets/js/10.f7960911.js"><link rel="prefetch" href="/site/assets/js/11.a592910a.js"><link rel="prefetch" href="/site/assets/js/12.6717a33d.js"><link rel="prefetch" href="/site/assets/js/13.682a40a0.js"><link rel="prefetch" href="/site/assets/js/14.98252396.js"><link rel="prefetch" href="/site/assets/js/15.fcc3f916.js"><link rel="prefetch" href="/site/assets/js/16.18e3e209.js"><link rel="prefetch" href="/site/assets/js/17.d5012f0a.js"><link rel="prefetch" href="/site/assets/js/18.3facfce8.js"><link rel="prefetch" href="/site/assets/js/19.6bced45f.js"><link rel="prefetch" href="/site/assets/js/20.f31829e2.js"><link rel="prefetch" href="/site/assets/js/21.9f5a2bb3.js"><link rel="prefetch" href="/site/assets/js/22.67a7b679.js"><link rel="prefetch" href="/site/assets/js/23.86b71d0a.js"><link rel="prefetch" href="/site/assets/js/24.9a66fd58.js"><link rel="prefetch" href="/site/assets/js/25.f9522ed8.js"><link rel="prefetch" href="/site/assets/js/26.6e7f9c0d.js"><link rel="prefetch" href="/site/assets/js/27.e9d08b47.js"><link rel="prefetch" href="/site/assets/js/28.76611bff.js"><link rel="prefetch" href="/site/assets/js/29.ea593b17.js"><link rel="prefetch" href="/site/assets/js/32.5f5dd21a.js"><link rel="prefetch" href="/site/assets/js/33.0a625a25.js"><link rel="prefetch" href="/site/assets/js/34.d2733537.js"><link rel="prefetch" href="/site/assets/js/35.ddc557a5.js"><link rel="prefetch" href="/site/assets/js/36.a489edf1.js"><link rel="prefetch" href="/site/assets/js/37.136d8c88.js"><link rel="prefetch" href="/site/assets/js/38.cf5a3a6d.js"><link rel="prefetch" href="/site/assets/js/39.e9646dd4.js"><link rel="prefetch" href="/site/assets/js/40.4ce1a813.js"><link rel="prefetch" href="/site/assets/js/41.da8c6de2.js"><link rel="prefetch" href="/site/assets/js/42.c04c89ae.js"><link rel="prefetch" href="/site/assets/js/43.150fa123.js"><link rel="prefetch" href="/site/assets/js/44.fe85991f.js"><link rel="prefetch" href="/site/assets/js/45.a7ccbd7a.js"><link rel="prefetch" href="/site/assets/js/46.80bff42e.js"><link rel="prefetch" href="/site/assets/js/47.3938d7f5.js"><link rel="prefetch" href="/site/assets/js/48.bc91a1ba.js"><link rel="prefetch" href="/site/assets/js/49.311640c6.js"><link rel="prefetch" href="/site/assets/js/50.d3346077.js"><link rel="prefetch" href="/site/assets/js/51.e7924f3c.js"><link rel="prefetch" href="/site/assets/js/52.41301aea.js"><link rel="prefetch" href="/site/assets/js/53.ef26fe4d.js"><link rel="prefetch" href="/site/assets/js/54.5f99a77e.js"><link rel="prefetch" href="/site/assets/js/55.b28f8acf.js"><link rel="prefetch" href="/site/assets/js/56.c1e1643d.js"><link rel="prefetch" href="/site/assets/js/57.bfaa829e.js"><link rel="prefetch" href="/site/assets/js/58.97c40fd9.js"><link rel="prefetch" href="/site/assets/js/59.96f5b32e.js"><link rel="prefetch" href="/site/assets/js/60.5605712f.js"><link rel="prefetch" href="/site/assets/js/61.5678ceef.js"><link rel="prefetch" href="/site/assets/js/62.6717708a.js">
    <link rel="stylesheet" href="/site/assets/css/0.styles.1ec459c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/site/ru/" class="home-link router-link-exact-active router-link-active"><!----> <span class="site-name">Руководство Vue SSR</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/site/ru/guide/" class="nav-link">Руководство</a></div><div class="nav-item"><a href="/site/ru/api/" class="nav-link">Справочник API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Переводы</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/site/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/site/en.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/site/ja/" class="nav-link">日本語</a></li><li class="dropdown-item"><!----> <a href="/site/ru/" class="nav-link router-link-exact-active router-link-active">Русский</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-ssr-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/site/ru/guide/" class="nav-link">Руководство</a></div><div class="nav-item"><a href="/site/ru/api/" class="nav-link">Справочник API</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Переводы</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/site/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----> <a href="/site/en.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/site/ja/" class="nav-link">日本語</a></li><li class="dropdown-item"><!----> <a href="/site/ru/" class="nav-link router-link-exact-active router-link-active">Русский</a></li></ul></div></div> <a href="https://github.com/vuejs/vue-ssr-docs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav> <div style="padding:20px 30px  0px 30px;"><a target="_blank" href="https://www.aliyun.com/minisite/goods?userCode=qya11txb" style="width:100%"><img src="https://img.alicdn.com/tfs/TB1qnR3R1L2gK0jSZFmXXc7iXXa-440-240.jpg" style="width:100%"></a></div> <ul class="sidebar-links"><li><a href="/site/ru/" class="active sidebar-link">Введение</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/site/ru/#что-такое-серверный-рендеринг-ssr" class="sidebar-link">Что такое серверный рендеринг (SSR)?</a></li><li class="sidebar-sub-header"><a href="/site/ru/#нужен-nи-вам-ssr" class="sidebar-link">Нужен ли вам SSR?</a></li><li class="sidebar-sub-header"><a href="/site/ru/#ssr-vs-пререндеринг" class="sidebar-link">SSR vs Пререндеринг</a></li><li class="sidebar-sub-header"><a href="/site/ru/#об-этом-руководстве" class="sidebar-link">Об этом руководстве</a></li></ul></li><li><a href="/site/ru/guide/" class="sidebar-link">Начало работы</a></li><li><a href="/site/ru/guide/universal.html" class="sidebar-link">Написание универсального кода</a></li><li><a href="/site/ru/guide/structure.html" class="sidebar-link">Структура исходного кода</a></li><li><a href="/site/ru/guide/routing.html" class="sidebar-link">Маршрутизация и разделение кода</a></li><li><a href="/site/ru/guide/data.html" class="sidebar-link">Предзагрузка данных и состояния</a></li><li><a href="/site/ru/guide/hydration.html" class="sidebar-link">Гидратация клиентской части</a></li><li><a href="/site/ru/guide/bundle-renderer.html" class="sidebar-link">Представляем Bundle Renderer</a></li><li><a href="/site/ru/guide/build-config.html" class="sidebar-link">Конфигурация сборки</a></li><li><a href="/site/ru/guide/css.html" class="sidebar-link">Управление CSS</a></li><li><a href="/site/ru/guide/head.html" class="sidebar-link">Управление head-тегами</a></li><li><a href="/site/ru/guide/caching.html" class="sidebar-link">Кэширование</a></li><li><a href="/site/ru/guide/streaming.html" class="sidebar-link">Стриминг</a></li><li><a href="/site/ru/guide/non-node.html" class="sidebar-link">Использование в не-Node.js окружениях</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="руководство-по-серверному-рендерингу-vue-js"><a href="#руководство-по-серверному-рендерингу-vue-js" aria-hidden="true" class="header-anchor">#</a> Руководство по серверному рендерингу Vue.js</h1> <div class="tip custom-block"><p class="custom-block-title">Примечание</p> <p>Для этого руководства требуются следующие версии Vue и библиотек:</p> <ul><li>vue &amp; vue-server-renderer 2.3.0+</li> <li>vue-router 2.5.0+</li> <li>vue-loader 12.0.0+ &amp; vue-style-loader 3.0.0+</li></ul> <p>Если вы ранее использовали Vue 2.2 с серверным рендерингом, вы заметите, что рекомендуемая структура кода теперь <a href="/site/ru/guide/structure.html">немного отличается</a> (с новой опцией <a href="/site/ru/api/#runinnewcontext">runInNewContext</a>, установленной в <code>false</code>). Ваше существующее приложение по-прежнему будет работать, но лучше внесите изменения с учётом новых рекомендаций.</p></div> <h2 id="что-такое-серверный-рендеринг-ssr"><a href="#что-такое-серверный-рендеринг-ssr" aria-hidden="true" class="header-anchor">#</a> Что такое серверный рендеринг (SSR)?</h2> <p>Vue.js — это фреймворк для создания приложений, выполняемых на клиенте (client-side). По умолчанию компоненты Vue создают и манипулируют DOM в браузере. Однако, также возможно рендерить те же компоненты в HTML-строки на сервере, отправлять их в браузер, и наконец «гидрировать» статическую разметку в полностью интерактивное приложение на клиенте.</p> <p>Приложение Vue.js отрендеренное на сервере также можно считать «изоморфным» или «универсальным», в том смысле, что большая часть кода приложения <strong>является общей для сервера и клиента</strong>.</p> <h2 id="нужен-nи-вам-ssr"><a href="#нужен-nи-вам-ssr" aria-hidden="true" class="header-anchor">#</a> Нужен ли вам SSR?</h2> <p>По сравнению с традиционным SPA (Single-Page Application), преимуществами серверного рендеринга будут:</p> <ul><li><p>Лучшее SEO, поскольку поисковые роботы будут видеть полностью отрендеренную страницу.</p> <p>Обратите внимание, что на данный момент Google и Bing могут без проблем индексировать синхронные приложения JavaScript. Ключевое слово здесь — синхронные. Если ваше приложение запускается с индикатором загрузки, а потом догружает контент через Ajax, то поисковый робот просто не будет дожидаться окончания загрузки. Это значит, что если у вас есть асинхронный контент на страницах где SEO важен, то может потребоваться серверный рендеринг.</p></li> <li><p>Лучшие показатели времени до отображения контента (time-to-content), особенно при плохом интернете или на медленных устройствах. Для разметки, отрендеренной на сервере, не требуется дожидаться пока весь JavaScript будет загружен и выполнен, поэтому ваш пользователь увидит полностью отрендеренную страницу раньше. Как правило, это приводит к лучшему пользовательскому опыту и может быть критичным для приложений, где время до отображения контента напрямую связано с коэффициентом конверсии.</p></li></ul> <p>Следует учитывать и некоторые компромиссы при использовании серверного рендеринга:</p> <ul><li><p>Ограничения при разработке. Код только для браузера может быть использован лишь в определённых хуках жизненного цикла; некоторые внешние библиотеки могут нуждаться в особой обработке, чтобы иметь возможность запускаться в приложении с серверным рендерингом.</p></li> <li><p>Более сложные требования по настройке и развёртыванию сборки. В отличие от полностью статичного SPA, который может быть развёрнут на любом статичном файловом сервере, приложение с серверным рендерингом требует окружения, где есть возможность запустить сервер Node.js.</p></li> <li><p>Повышенная нагрузка на стороне сервера. Рендеринг полноценного приложения в Node.js очевидно более требователен к ресурсам процессора, чем простая раздача статичных файлов, поэтому если вы ожидаете большой трафик, будьте готовы к соответствующей нагрузке на сервер и используйте стратегии кэширования.</p></li></ul> <p>Прежде чем использовать серверный рендеринг для вашего приложения, задайте себе вопрос, действительно ли он вам нужен. Ответ зависит от того, насколько важно время до контента для вашего приложения. Например, если вы разрабатываете панель мониторинга для внутренних нужд, где дополнительные несколько сотен миллисекунд начальной загрузки не так важны, то серверный рендеринг будет излишеством. Однако, в тех случаях, когда время до контента критично, серверный рендеринг может позволит достичь наилучшей производительности начальной загрузки.</p> <h2 id="ssr-vs-пререндеринг"><a href="#ssr-vs-пререндеринг" aria-hidden="true" class="header-anchor">#</a> SSR vs Пререндеринг</h2> <p>Если вы интересуетесь серверным рендерингом только для того, чтобы улучшить SEO на нескольких маркетинговых страницах (например, <code>/</code>, <code>/about</code>, <code>/contact</code>, и т.д.), вам скорее всего будет достаточно <strong>пререндеринга</strong>. Вместо того, чтобы заставлять веб-сервер компилировать HTML на лету, пререндеринг просто сгенерирует статичные HTML-файлы для указанных маршрутов на этапе сборки. Преимуществом пререндеринга будет простота реализации, кроме того этот подход позволит вам оставить фронтенд полностью статичным.</p> <p>Если вы используете Webpack, то для добавления пререндеринга достаточно установить плагин <a href="https://github.com/chrisvfritz/prerender-spa-plugin" target="_blank" rel="noopener noreferrer">prerender-spa-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Он был тщательно протестирован с приложениями Vue.</p> <h2 id="об-этом-руководстве"><a href="#об-этом-руководстве" aria-hidden="true" class="header-anchor">#</a> Об этом руководстве</h2> <p>Это руководство ориентировано на SPA приложения с рендерингом на сервере, используя Node.js в качестве сервера. Использование серверного рендеринга Vue совместно с другими технологиями и настройками бэкэнда являются отдельной темой и кратко обсуждается в <a href="/site/ru/guide/non-node.html">отдельном разделе</a>.</p> <p>Это руководство будет очень детальным и предполагает, что вы уже знакомы с самим Vue.js, имеете знания и опыт работы с Node.js и Webpack. Если вы предпочитаете более высокоуровневые решения, обеспечивающие работу из коробки — вам следует попробовать <a href="https://nuxtjs.org/" target="_blank" rel="noopener noreferrer">Nuxt.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. Он построен на том же стеке Vue, но позволяет абстрагироваться от написания шаблонного кода, а также предоставляет некоторые дополнительные возможности, такие как генерация статичного сайта. Однако он может не подойти, если вам необходим полный контроль над структурой приложения. В любом случае, вам будет полезно прочитать это руководство, чтобы лучше понимать, как все составляющие работают вместе.</p> <p>По мере прочтения руководства, будет полезным обращаться к официальному <a href="https://github.com/vuejs/vue-hackernews-2.0/" target="_blank" rel="noopener noreferrer">демо HackerNews<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, в котором используется большинство техник, изложенных в этом руководстве.</p> <p>Наконец, обратите внимание, что решения в этом руководстве не являются окончательными — мы решили, что они хорошо работают для нас, но это не означает, что они не могут быть улучшены. Они могут быть пересмотрены в будущем — поэтому не стесняйтесь вносить свой вклад, отправляя пулл-реквесты!</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/site/ru/guide/">
          Начало работы
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/site/assets/js/30.c5eb0f84.js" defer></script><script src="/site/assets/js/app.5a972c74.js" defer></script>
  </body>
</html>
