(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{195:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("Подробнее в разделах "),a("router-link",{attrs:{to:"./../guide/bundle-renderer.html"}},[t._v("Представляем Bundle Renderer")]),t._v(" и "),a("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("Конфигурация сборки")]),t._v(".")],1),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("Сигнатура:")]),t._v(" "),t._m(11),a("p",[t._v("Рендерит экземпляр Vue в строку. Объект контекста опционален. Коллбэк является обычным для Node.js коллбэком, где первый аргумент является ошибкой, а второй аргумент — отрендеренной строкой.")]),t._v(" "),a("p",[t._v("С версии 2.5.0+ коллбэк является опциональным. Когда коллбэк не указан, метод возвращает Promise, который разрешается отрендеренным HTML.")]),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("Сигнатура:")]),t._v(" "),t._m(13),a("p",[t._v("Рендерит экземпляр Vue в "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js readable stream"),a("OutboundLink")],1),t._v(". Объект контекста опционален. Подробнее в разделе "),a("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("Стриминг")]),t._v(".")],1),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("Сигнатура:")]),t._v(" "),t._m(16),a("p",[t._v("Рендерит сборку в строку. Объект контекста опционален. Коллбэк является обычным для Node.js коллбэком, где первый аргумент является ошибкой, а второй аргумент — отрендеренной строкой.")]),t._v(" "),a("p",[t._v("С версии 2.5.0+ коллбэк является опциональным. Когда коллбэк не указан, метод возвращает Promise, который разрешается отрендеренным HTML.")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("Сигнатура:")]),t._v(" "),t._m(18),a("p",[t._v("Рендерит сборку в "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v10.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js readable stream"),a("OutboundLink")],1),t._v(". Объект контекста опционален. Подробнее в разделе "),a("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("Стриминг")]),t._v(".")],1),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("Шаблон также поддерживает базовые интерполяции с использованием контекста рендера:")]),t._v(" "),t._m(24),t._v(" "),a("p",[t._v("Шаблон автоматически внедряет соответствующий контент, когда определённые свойства найдены в контексте рендера:")]),t._v(" "),a("ul",[t._m(25),t._v(" "),t._m(26),t._v(" "),a("li",[a("p",[a("code",[t._v("context.state")]),t._v(": (Object) начальное состояние хранилища Vuex, которое должно быть внедрено в страницу как "),a("code",[t._v("window.__INITIAL_STATE__")]),t._v(". Внедряемый JSON автоматически обрабатывается с помощью "),a("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("serialize-javascript"),a("OutboundLink")],1),t._v(" для предотвращения XSS-уязвимостей.")]),t._v(" "),a("p",[t._v("С версии 2.5.0+, встраиваемый скрипт также автоматически удаляется в режиме production.")]),t._v(" "),t._m(27)])]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("Функция принимает два аргумента:")]),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("Пример:")]),t._v(" "),t._m(35),a("p",[t._v("Обратите внимание, что при использовании собственной функции для шаблона ничего автоматически не будет добавляться — вы полностью контролируете то, что будет включаться в HTML, но также нести ответственность за включение всего необходимого (например, ссылки на ресурсы, если вы используете bundle renderer).")]),t._v(" "),a("p",[t._v("См. также:")]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"./../guide/#испоnьзование-шабnона-страниц"}},[t._v("Использование шаблона страниц")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"./../guide/build-config.html#внедрение-ресурсов-вручную"}},[t._v("Внедрение ресурсов вручную")])],1)]),t._v(" "),t._m(36),t._v(" "),a("p",[t._v("Предоставляет объект манифеста клиентской сборки, сгенерированный "),a("code",[t._v("vue-server-renderer/client-plugin")]),t._v(". Клиентский манифест предоставляет для рендерера сборки необходимую информацию для автоматического внедрения ресурсов в шаблон HTML. Подробнее в разделе "),a("router-link",{attrs:{to:"./../guide/build-config.html#генерация-clientmanifest"}},[t._v("Генерация "),a("code",[t._v("clientManifest")])]),t._v(".")],1),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),a("p",[t._v("См. также: "),a("router-link",{attrs:{to:"./../guide/build-config.html#внедрение-ресурсов-вручную"}},[t._v("Внедрение ресурсов вручную")]),t._v(".")],1),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),a("p",[t._v("По умолчанию, только JavaScript и CSS файлы будут предзагружаться, так как они абсолютно необходимы для загрузки приложения.")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),a("p",[t._v("По умолчанию, рендерер сборки будет создавать новый контекст V8 для каждого рендеринга и повторно исполнять всю сборку. Это имеет некоторые преимущества — например, код приложения изолирован от процесса сервера и не нужно беспокоиться "),a("router-link",{attrs:{to:"./../guide/structure.html#избегайте-сингnтонов-с-состоянием"}},[t._v("о проблеме «синглтона с состоянием»")]),t._v(", которая упоминалась ранее в руководстве. Однако этот режим требует значительных затрат производительности, поскольку повторное выполнение сборки обходится дорого, особенно когда приложение становится большим.")],1),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),a("p",[t._v("См. также: "),a("router-link",{attrs:{to:"./../guide/structure.html"}},[t._v("Структура исходного кода")])],1),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),a("p",[t._v("Реализация "),a("router-link",{attrs:{to:"./../guide/caching.html#кэширование-на-уровне-компонентов"}},[t._v("кэширования на уровне компонентов")]),t._v(". Объект кэша должен реализовать следующий интерфейс (соответствуя нотациям Flow):")],1),t._v(" "),t._m(58),a("p",[t._v("Для обычного использования достаточно передать "),a("a",{attrs:{href:"https://github.com/isaacs/node-lru-cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("lru-cache"),a("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),a("p",[t._v("Позволяет предоставить серверную реализацию для ваших пользовательских директив:")]),t._v(" "),t._m(63),a("p",[t._v("Например, можете посмотреть "),a("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/src/platforms/web/server/directives/show.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("серверную реализацию для директивы "),a("code",[t._v("v-show")]),a("OutboundLink")],1),t._v(".")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),a("p",[t._v("Пользовательская функция сериализатора для "),a("code",[t._v("context.state")]),t._v(". Поскольку сериализованное состояние будет частью вашего итогового HTML, важно использовать функцию, которая должным образом экранирует символы HTML по соображениям безопасности. Сериализатор по умолчанию — "),a("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("serialize-javascript"),a("OutboundLink")],1),t._v(" с опцией "),a("code",[t._v("{ isJSON: true }")]),t._v(".")]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),a("ul",[a("li",[t._m(68),t._v(" "),t._m(69),t._v(" "),t._m(70),t._v(" "),a("p",[t._v("Подробнее в "),a("router-link",{attrs:{to:"./../guide/caching.html#кэширование-на-уровне-компонентов"}},[t._v("Кэшировании на уровне компонентов")]),t._v(".")],1)])]),t._v(" "),t._m(71),t._v(" "),a("ul",[a("li",[t._m(72),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("Подробнее в "),a("router-link",{attrs:{to:"./../guide/data.html"}},[t._v("Предзагрузке данных и состояния")]),t._v(".")],1)])]),t._v(" "),t._m(74),t._v(" "),a("p",[t._v("Webpack плагины предоставляются как отдельные файлы, которые должны быть подключены напрямую:")]),t._v(" "),t._m(75),a("p",[t._v("По умолчанию генерируются файлы:")]),t._v(" "),t._m(76),t._v(" "),a("p",[t._v("Имена файлов могут быть изменены при создании экземпляров плагина:")]),t._v(" "),t._m(77),a("p",[t._v("Подробнее в разделе "),a("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("Конфигурация сборки")]),t._v(".")],1)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"справочник-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#справочник-api","aria-hidden":"true"}},[this._v("#")]),this._v(" Справочник API")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"createrenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createrenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Создаёт экземпляр "),s("a",{attrs:{href:"#class-renderer"}},[s("code",[this._v("Renderer")])]),this._v(" с (опциональными) "),s("a",{attrs:{href:"#renderer-options"}},[this._v("настройками")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createRenderer "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* настройки */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"createbundlerenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createbundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createBundleRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Создаёт экземпляр "),s("a",{attrs:{href:"#class-bundlerenderer"}},[s("code",[this._v("BundleRenderer")])]),this._v(" с сборкой сервера и (опциональными) "),s("a",{attrs:{href:"#renderer-options"}},[this._v("настройками")]),this._v(".")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createBundleRenderer "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serverBundle"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* настройки */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Аргумент "),s("code",[this._v("serverBundle")]),this._v(" может быть одним из следующих:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("Абсолютный путь к созданному файлу сборки ("),a("code",[t._v(".js")]),t._v(" или "),a("code",[t._v(".json")]),t._v("). Должен начинаться с "),a("code",[t._v("/")]),t._v(", чтобы трактоваться как путь к файлу.")])]),t._v(" "),a("li",[a("p",[t._v("Объект сборки, сгенерированный Webpack + "),a("code",[t._v("vue-server-renderer/server-plugin")]),t._v(".")])]),t._v(" "),a("li",[a("p",[t._v("Строка с кодом JavaScript (не рекомендуется).")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"кnасс-renderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#кnасс-renderer","aria-hidden":"true"}},[this._v("#")]),this._v(" Класс: Renderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"renderer-rendertostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToString")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("renderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"renderer-rendertostream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToStream")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("renderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"кnасс-bundlerenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#кnасс-bundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" Класс: BundleRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bundlerenderer-rendertostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToString")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bundleRenderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bundlerenderer-rendertostream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToStream")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bundleRenderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"опции-рендерера"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#опции-рендерера","aria-hidden":"true"}},[this._v("#")]),this._v(" Опции рендерера")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template","aria-hidden":"true"}},[this._v("#")]),this._v(" template")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("Тип:")]),this._v(" "),s("ul",[s("li",[s("code",[this._v("string")])]),this._v(" "),s("li",[s("code",[this._v("string | (() => string | Promise<string>)")]),this._v(" (с версии 2.6)")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("При использовании строкового шаблона:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Предоставляет шаблон для всей HTML-страницы. Шаблон должен содержать комментарий "),s("code",[this._v("\x3c!--vue-ssr-outlet--\x3e")]),this._v(", который определяет место подстановки отрендеренного контента приложения.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Используйте двойные фигурные скобки для интерполяции экранированного HTML;")]),this._v(" "),s("li",[this._v("Используйте тройные фигурные скобки для интерполяции сырого HTML.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("code",[this._v("context.head")]),this._v(": (string) любая разметка для head, которая должна быть вставлена в заголовочный тег страницы.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("code",[this._v("context.styles")]),this._v(": (string) любой встроенный CSS, который должен быть вставлен в заголовочный тег страницы. Обратите внимание, что это свойство будет автоматически заполнено при использовании "),s("code",[this._v("vue-loader")]),this._v(" + "),s("code",[this._v("vue-style-loader")]),this._v(" для CSS компонента.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("С версии 2.6.0+, если присутствует "),s("code",[this._v("context.nonce")]),this._v(", он будет добавлен как атрибут "),s("code",[this._v("nonce")]),this._v(" во встраиваемый скрипт. Это позволит встраиваемому скрипту соответствовать CSP, который требует nonce.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Кроме того, когда предоставлен "),s("code",[this._v("clientManifest")]),this._v(", шаблон автоматически внедряет следующее:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("JavaScript и CSS ресурсы для клиентской части, необходимые для рендеринга (с асинхронными фрагментами добавляемыми автоматически);")]),this._v(" "),s("li",[this._v("Оптимальные ресурсы "),s("code",[this._v('<link rel="preload/prefetch">')]),this._v(" для отображаемой страницы.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Вы можете отключить все автоматические внедрения передав "),s("code",[this._v("inject: false")]),this._v(" в рендерер.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("При использовании функции шаблона:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("ВНИМАНИЕ")]),this._v(" "),s("p",[this._v("Шаблоны в виде функции поддерживаются только с версии 2.6+ и при использовании "),s("code",[this._v("renderer.renderToString")]),this._v(". Это НЕ ПОДДЕРЖИВАЕТСЯ в "),s("code",[this._v("renderer.renderToStream")]),this._v(".")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Опция "),s("code",[this._v("template")]),this._v(" также может быть функцией, которая возвращает отрендеренный HTML или Promise, который разрешится отрендеренным HTML. Это позволит использовать собственные строковые шаблоны JavaScript и потенциальные асинхронные операции в процессе рендеринга шаблона.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Результат рендеринга компонента приложения в виде строки;")]),this._v(" "),s("li",[this._v("Объект контекста рендеринга.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`<html>\n      <head>")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("</head>\n      <body>")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("</body>\n    <html>`")])]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"clientmanifest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientmanifest","aria-hidden":"true"}},[this._v("#")]),this._v(" clientManifest")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inject","aria-hidden":"true"}},[this._v("#")]),this._v(" inject")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Контролирует, выполнять ли автоматические внедрения при использовании "),s("code",[this._v("template")]),this._v(". По умолчанию "),s("code",[this._v("true")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"shouldpreload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldpreload","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPreload")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Функция, определяющая какие файлы должны иметь "),s("code",[this._v('<link rel="preload">')]),this._v(" в генерируемых ресурсах.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Для других типов ресурсов, таких как изображения или шрифты, предзагрузка может привести к ненужному увеличению объёмов передаваемой информации и даже к ухудшению производительности, поэтому список файлов, которые нужно предзагружать, зависит от ситуации. Вы можете точно контролировать, что требует предзагрузки, используя опцию "),s("code",[this._v("shouldPreload")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bundle"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  clientManifest"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  shouldPreload"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// тип определяется на основе расширения файла.")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// https://fetch.spec.whatwg.org/#concept-request-destination")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'script'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'style'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'font'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// предзагружать только woff2 шрифты")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("woff2$"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'image'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// предзагружать только важные изображения")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" file "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'hero.jpg'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"shouldprefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPrefetch")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Добавлено в версии 2.5.0+")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Функция для управления файлами, которые должны содержаться в генерируемых "),s("code",[this._v('<link rel="prefetch">')]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("По умолчанию все ресурсы в асинхронных частях будут предварительно загружены, так как это директива с низким приоритетом; однако вы можете настроить что требуется предзагружать для лучшего контроля над использованием канала загрузки. Этот параметр ожидает такую же сигнатуру функции, как "),s("code",[this._v("shouldPreload")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"runinnewcontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#runinnewcontext","aria-hidden":"true"}},[this._v("#")]),this._v(" runInNewContext")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("Используется только в "),a("code",[t._v("createBundleRenderer")])]),t._v(" "),a("li",[t._v("Возможные значения: "),a("code",[t._v("boolean | 'once'")]),t._v(" ("),a("code",[t._v("'once'")]),t._v(" поддерживается только с версии 2.3.1+)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("По умолчанию эта опция имеет значение "),s("code",[this._v("true")]),this._v(" для обеспечения обратной совместимости, но рекомендуется использовать "),s("code",[this._v("runInNewContext: false")]),this._v(" или "),s("code",[this._v("runInNewContext: 'once'")]),this._v(" всегда, когда это возможно.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("В версии 2.3.0 у этой опции есть ошибка, когда при "),s("code",[this._v("runInNewContext: false")]),this._v(" сборка всё ещё исполнялась в отдельном глобальном контексте. Информация далее предполагает использование версии 2.3.1+.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("С опцией "),s("code",[this._v("runInNewContext: false")]),this._v(", код сборки будет выполняться в том же контексте "),s("code",[this._v("global")]),this._v(", что и серверный процесс, поэтому нужно быть осторожным с кодом, который изменяет "),s("code",[this._v("global")]),this._v(" в вашем приложении.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("С опцией "),s("code",[this._v("runInNewContext: 'once'")]),this._v(" (добавлено в версии 2.3.1+), сборка выполняется в отдельном контексте "),s("code",[this._v("global")]),this._v(", но только один раз при запуске. Это обеспечивает лучшую изоляцию кода приложения поскольку предотвращает случайно загрязнение объекта "),s("code",[this._v("global")]),this._v(" серверного процесса. Предостережения заключаются в следующем:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("Зависимости, которые изменяют "),s("code",[this._v("global")]),this._v(" (например, полифилы) не должны быть объявлены внешними зависимостями в этом режиме;")]),this._v(" "),s("li",[this._v("Значения, возвращаемые при выполнении сборки будут использовать разные глобальные конструкторы, например, ошибка внутри сборки не будет экземпляром "),s("code",[this._v("Error")]),this._v(" в серверном процессе.")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"basedir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basedir","aria-hidden":"true"}},[this._v("#")]),this._v(" basedir")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Используется только в "),s("code",[this._v("createBundleRenderer")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Указание пути базового каталога для серверной сборки для разрешения зависимостей из "),s("code",[this._v("node_modules")]),this._v(" в нём. Это необходимо только в том случае, если сгенерированный файл сборки располагается в другом месте, в отличии от используемых NPM-зависимостей, или когда ваш "),s("code",[this._v("vue-server-renderer")]),this._v(" подключён NPM-ссылкой в вашем текущем проекте.")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache","aria-hidden":"true"}},[this._v("#")]),this._v(" cache")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("type RenderCache "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" string "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  has"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" boolean "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("LRU")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'lru-cache'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("LRU")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    max"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10000")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("Обратите внимание, что объект кэша по крайне мере должен реализовывать "),a("code",[t._v("get")]),t._v(" и "),a("code",[t._v("set")]),t._v(". Кроме того, "),a("code",[t._v("get")]),t._v(" и "),a("code",[t._v("has")]),t._v(" опционально могут быть асинхронными, если они принимают второй аргумент как коллбэк. Это позволяет кэшу использовать асинхронные API, например для Redis:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// обработка ошибок, если таковые будут")]),t._v("\n        "),a("span",{attrs:{class:"token function"}},[t._v("cb")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"directives"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#directives","aria-hidden":"true"}},[this._v("#")]),this._v(" directives")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  directives"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("example")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" directiveMeta"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// преобразуем vnode на основе метаданных привязанных к директиве")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"serializer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serializer","aria-hidden":"true"}},[this._v("#")]),this._v(" serializer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("Добавлено в версии 2.6")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"опции-компонента-тоnько-дnя-сервера"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#опции-компонента-тоnько-дnя-сервера","aria-hidden":"true"}},[this._v("#")]),this._v(" Опции компонента только для сервера")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"servercachekey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#servercachekey","aria-hidden":"true"}},[this._v("#")]),this._v(" serverCacheKey")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Тип:")]),this._v(" "),s("code",[this._v("(props) => any")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Возвращает ключ кэша для компонента на основе входных параметров. НЕ ИМЕЕТ доступа к "),s("code",[this._v("this")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Начиная с версии 2.6, вы можете явно отказываться от кэширования, возвращая значение "),s("code",[this._v("false")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"serverprefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serverprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" serverPrefetch")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("Тип:")]),this._v(" "),s("code",[this._v("() => Promise<any>")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Загрузка асинхронных данных во время рендеринга на стороне сервера. Он должен сохранить полученные данные в глобальном хранилище или вернуть Promise. Рендерер сервера будет дожидаться разрешения Promise в этом хуке. Этот хук имеет доступ к экземпляру компонента через "),s("code",[this._v("this")]),this._v(".")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"пnагины-webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#пnагины-webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" Плагины webpack")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRServerPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/server-plugin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRClientPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/client-plugin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("vue-ssr-server-bundle.json")]),this._v(" для серверной сборки;")]),this._v(" "),s("li",[s("code",[this._v("vue-ssr-client-manifest.json")]),this._v(" для клиентской сборки.")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" plugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("VueSSRServerPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  filename"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'my-server-bundle.json'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="README.md";s.default=n.exports}}]);