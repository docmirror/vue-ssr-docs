(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{180:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("より詳しい情報は、 "),a("router-link",{attrs:{to:"./../guide/bundle-renderer.html"}},[t._v("サーババンドルの紹介")]),t._v(" と "),a("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("ビルド設定")]),t._v(" の項目を参照してください。")],1),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),a("p",[t._v("シグネチャ:")]),t._v(" "),t._m(11),a("p",[t._v("Vue インスタンスを文字列として描画します。context オブジェクトの指定は、任意です。callback は、第１引数にエラー内容、 第２引数に描画された文字列を受け取る、典型的な Node.js のコーディングスタイルである関数を指定します。")]),t._v(" "),a("p",[t._v("2.5.0 以降においては、コールバックはオプションです。コールバックなしで渡されるとき、HTML に描画されるのを解決するプロミスを返します。")]),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("シグネチャ:")]),t._v(" "),t._m(13),a("p",[t._v("Vue インスタンスを "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js の読み取り可能なストリーム"),a("OutboundLink")],1),t._v(" に描画します。より詳細については、"),a("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("ストリーミング")]),t._v(" を参照してください。")],1),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),a("p",[t._v("シグネチャ:")]),t._v(" "),t._m(16),a("p",[t._v("サーババンドルを文字列として描画します。context オブジェクトの指定は、任意です。callback は、第１引数にエラー内容、 第２引数に描画された文字列を受け取る、典型的な Node.js のコーディングスタイルである関数を指定します。")]),t._v(" "),a("p",[t._v("2.5.0 以降においては、コールバックは任意です。コールバックなしで渡されたとき、そのメソッドは描画された HTML に解決するプロミスを返します。")]),t._v(" "),t._m(17),t._v(" "),a("p",[t._v("シグネチャ:")]),t._v(" "),t._m(18),a("p",[t._v("バンドルを "),a("a",{attrs:{href:"https://nodejs.org/dist/latest-v8.x/docs/api/stream.html#stream_readable_streams",target:"_blank",rel:"noopener noreferrer"}},[t._v("Node.js の読み取り可能なストリーム"),a("OutboundLink")],1),t._v("に描画します。コンテキストオブジェクトはオプションです。より詳細は "),a("router-link",{attrs:{to:"./../guide/streaming.html"}},[t._v("ストリーミング")]),t._v("を参照してください。")],1),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),a("p",[t._v("テンプレートは、次の構文を使用した簡単な補間もサポートします。")]),t._v(" "),t._m(24),t._v(" "),a("p",[t._v("次の構文を見つけた時、テンプレートは自動で適切な内容を挿入します。")]),t._v(" "),a("ul",[t._m(25),t._v(" "),t._m(26),t._v(" "),a("li",[a("p",[a("code",[t._v("context.state")]),t._v(": (Object) "),a("code",[t._v("window.__INITIAL_STATE__")]),t._v(" としてページ内にインライン展開されるべき Vuex のストアの初期状態を指定します。このインライン JSON は自動でクロスサイトスプリクティングを防ぐ "),a("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("シリアライズされた javascript"),a("OutboundLink")],1),t._v(" へサニタイズされます。")]),t._v(" "),a("p",[t._v("2.5.0 以降においては、埋め込みスクリプトはプロダクションモードで自動的に削除されます。")]),t._v(" "),t._m(27)])]),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),a("p",[t._v("関数は 2 つの引数を受け取ります:")]),t._v(" "),t._m(34),t._v(" "),a("p",[t._v("例:")]),t._v(" "),t._m(35),a("p",[t._v("カスタムテンプレート関数を使用するとき、自動的に注入されるものが何もないことに注意してください。最終的な HTML に含まれるものを完全に制御できますが、全てあなた自身で含める必要があります (例えば、バンドルレンダラを使用する場合のアセットのリンク)。")]),t._v(" "),a("p",[t._v("参照：")]),t._v(" "),a("ul",[a("li",[a("router-link",{attrs:{to:"./../guide/#using-a-page-template"}},[t._v("ページテンプレートの使用")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:"./../guide/build-config.html#manual-asset-injection"}},[t._v("手動によるアセットインジェクション")])],1)]),t._v(" "),t._m(36),t._v(" "),a("p",[a("code",[t._v("vue-server-renderer/server-plugin")]),t._v(" によって生成されたクライアントビルドマニフェストオブジェクトを提供します。クライアントマニフェストは、HTML テンプレートへの自動アセット挿入に適した情報とともに、バンドルレンダラを提供します。より詳しい情報は "),a("router-link",{attrs:{to:"./../guide/build-config.html#generating-clientmanifest"}},[t._v("クライアントマニフェストの生成")]),t._v(" の項目を参照してください。")],1),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),a("p",[t._v("参考："),a("router-link",{attrs:{to:"./../guide/build-config.html#manual-asset-injection"}},[t._v("手動によるアセットインジェクション")])],1),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),a("p",[t._v("デフォルトでは、JavaScript と CSS ファイルのみがプリロードされます。これらはアプリケーション起動時に必須なためです。")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),a("p",[t._v("デフォルトでは、BundleRenderer の描画ごとに未使用の V8 コンテキストを生成し、バンドル全体を再実行するでしょう。これにはいくつかのメリットがあります。例えば、私たちが以前から言及してきた"),a("router-link",{attrs:{to:"./../guide/structure.html#avoid-stateful-singletons"}},[t._v("「ステートフルでシングルトン」なデータを管理することの問題点")]),t._v("について心配する必要がありません。しかしながら、このモードはいくつかの無視できないパフォーマンスの問題が起こります。 なぜなら、アプリケーションが大きくなるとき、バンドルの再実行は著しくコストがかかるためです。")],1),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),a("p",[t._v("参考: "),a("router-link",{attrs:{to:"./../guide/structure.html"}},[t._v("ソースコードの構造")])],1),t._v(" "),t._m(54),t._v(" "),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),a("p",[a("router-link",{attrs:{to:"./../guide/caching.html#component-level-caching"}},[t._v("コンポーネントキャッシュ")]),t._v(" の実装を提供します。 キャッシュオブジェクトは以下のインタフェースで実装しなければいけません(以下のような記法を用いる):")],1),t._v(" "),t._m(58),a("p",[t._v("代表的な使用方法は、次の "),a("a",{attrs:{href:"https://github.com/isaacs/node-lru-cache",target:"_blank",rel:"noopener noreferrer"}},[t._v("lru-cache"),a("OutboundLink")],1),t._v(" のような流れになります:")]),t._v(" "),t._m(59),t._m(60),t._v(" "),t._m(61),t._m(62),t._v(" "),a("p",[t._v("以下のように、カスタムディレクティブをサーバサイドの実装で使用可能にします:")]),t._v(" "),t._m(63),a("p",[t._v("例として、"),a("a",{attrs:{href:"https://github.com/vuejs/vue/blob/dev/src/platforms/web/server/directives/show.js",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("v-show")]),t._v(" のサーバサイド実装はこちら"),a("OutboundLink")],1),t._v(" です。")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),a("p",[a("code",[t._v("context.state")]),t._v(" に対してカスタムシリアライザ関数を提供します。シリアライズされた状態は最終的な HTML の一部になるため、セキュリティ上の理由から、HTML 文字を適切にエスケープする関数を使用することは重要です。デフォルトシリアライザは、"),a("code",[t._v("{ isJSON: true }")]),t._v(" がセットされた "),a("a",{attrs:{href:"https://github.com/yahoo/serialize-javascript",target:"_blank",rel:"noopener noreferrer"}},[t._v("serialize-javascript"),a("OutboundLink")],1),t._v(" です。")]),t._v(" "),t._m(66),t._v(" "),t._m(67),t._v(" "),a("ul",[a("li",[t._m(68),t._v(" "),t._m(69),t._v(" "),a("p",[t._v("詳細は"),a("router-link",{attrs:{to:"./../guide/caching.html#component-level-caching"}},[t._v("コンポーネントレベルでのキャッシュ")]),t._v("を参照してください。")],1)])]),t._v(" "),t._m(70),t._v(" "),a("ul",[a("li",[t._m(71),t._v(" "),t._m(72),t._v(" "),a("p",[t._v("詳細は"),a("router-link",{attrs:{to:"./../guide/data.html"}},[t._v("データのプリフェッチと状態")]),t._v("を参照してください。")],1)])]),t._v(" "),t._m(73),t._v(" "),a("p",[t._v("webpack プラグインは、スタンドアロンのファイルとして提供され、次の値を必要とします:")]),t._v(" "),t._m(74),a("p",[t._v("デフォルトで生成されるファイルは以下のものです:")]),t._v(" "),t._m(75),t._v(" "),a("p",[t._v("プラグインのインスタンス生成時、これらのファイル名は以下のようにカスタマイズ可能です:")]),t._v(" "),t._m(76),a("p",[t._v("より詳しい情報は、 "),a("router-link",{attrs:{to:"./../guide/build-config.html"}},[t._v("ビルド設定")]),t._v(" の項目を参照してください。")],1)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"api-リファレンス"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-リファレンス","aria-hidden":"true"}},[this._v("#")]),this._v(" API リファレンス")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"createrenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createrenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("任意の引数  "),s("a",{attrs:{href:"#renderer-options"}},[this._v("options")]),this._v(" を用いて "),s("a",{attrs:{href:"#class-renderer"}},[s("code",[this._v("Renderer")])]),this._v(" インスタンスを生成します。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createRenderer "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* options */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"createbundlerenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#createbundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" createBundleRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("サーババンドルと任意の引数  "),s("a",{attrs:{href:"#renderer-options"}},[this._v("options")]),this._v(" を用いて "),s("a",{attrs:{href:"#class-bundlerenderer"}},[s("code",[this._v("BundleRenderer")])]),this._v(" インスタンスを生成します。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createBundleRenderer "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("serverBundle"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{attrs:{class:"token comment"}},[t._v("/* options */")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("引数 "),s("code",[this._v("serverBundle")]),this._v(" には次のいずれか１つを指定できます:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("p",[t._v("生成されたバンドルファイル ("),a("code",[t._v(".js")]),t._v(" または "),a("code",[t._v(".json")]),t._v(")への絶対パス。ファイルパスとして扱われるために "),a("code",[t._v("/")]),t._v(" で開始されなければなりません。")])]),t._v(" "),a("li",[a("p",[t._v("webpack と "),a("code",[t._v("vue-server-renderer/server-plugin")]),t._v(" によって生成されたバンドルオブジェクト。")])]),t._v(" "),a("li",[a("p",[t._v("JavaScript コードの文字列 (非推奨)。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"クラス-renderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#クラス-renderer","aria-hidden":"true"}},[this._v("#")]),this._v(" "),s("code",[this._v("クラス: Renderer")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"renderer-rendertostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToString")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("renderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"renderer-rendertostream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#renderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" renderer.renderToStream")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("renderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vm"),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"クラス-bundlerenderer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#クラス-bundlerenderer","aria-hidden":"true"}},[this._v("#")]),this._v(" クラス: BundleRenderer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bundlerenderer-rendertostring"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostring","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToString")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bundleRenderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToString")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" callback"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v("Promise"),a("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("string"),a("span",{attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"bundlerenderer-rendertostream"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#bundlerenderer-rendertostream","aria-hidden":"true"}},[this._v("#")]),this._v(" bundleRenderer.renderToStream")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("bundleRenderer"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("renderToStream")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" stream"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Readable\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"レンダラオプション"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#レンダラオプション","aria-hidden":"true"}},[this._v("#")]),this._v(" レンダラオプション")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template","aria-hidden":"true"}},[this._v("#")]),this._v(" template")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("型:")]),this._v(" "),s("ul",[s("li",[s("code",[this._v("string")])]),this._v(" "),s("li",[s("code",[this._v("string | (() => string | Promise<string>)")]),this._v(" (2.6 から)")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("文字列テンプレートを使用している場合:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ページ全体の HTML を表すテンプレートを設定します。描画されたアプリケーションの内容を指し示すプレースホルダの代わりになるコメント文 "),s("code",[this._v("\x3c!--vue-ssr-outlet--\x3e")]),this._v(" をテンプレートには含むべきです。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("エスケープされたHTMLを補間する Mustache 構文(二重中括弧)の使用")]),this._v(" "),s("li",[this._v("エスケープしない生のHTMLを補間する Mustache 構文(三重中括弧)の使用")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("code",[this._v("context.head")]),this._v(": (string) ページ内の head に挿入されるべき任意のマークアップを文字列で指定します。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("p",[s("code",[this._v("context.styles")]),this._v(": (string) ページ内の head に挿入されるべき任意のインライン CSS を文字列で指定します。もし CSS コンポーネントのために "),s("code",[this._v("vue-loader")]),this._v(" + "),s("code",[this._v("vue-style-loader")]),this._v(" を使用する場合、このプロパティは自動で追加されることに注意してください。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("2.6.0 以降では、 "),s("code",[this._v("context.nonce")]),this._v(" が存在すれば、それは、埋め込みスクリプトに "),s("code",[this._v("nonce")]),this._v(" 属性として追加されます。これにより、インラインスクリプトを nonce を必要とする CSP に準拠することができます。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("加えて、"),s("code",[this._v("clientManifest")]),this._v(" も渡された場合、テンプレートは自動で以下を挿入します。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("(自動で受信される非同期のデータを含んだ)描画対象が必要とするクライアントサイドの JavaScript と CSS アセット")]),this._v(" "),s("li",[this._v("描画済みのページに対する最適な "),s("code",[this._v('<link rel="preload/prefetch">')]),this._v(" リソースヒント")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("レンダラに "),s("code",[this._v("inject: false")]),this._v(" も渡すことで、すべての自動挿入を無効にすることができます。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("関数テンプレートを使用している場合:")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("関数テンプレートは "),s("code",[this._v("renderer.renderToString")]),this._v(" を使用するとき、2.6 以降でのみサポートされます。"),s("code",[this._v("renderer.renderToStream")]),this._v(" はまだサポートされていません。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("template")]),this._v(" オプションは、描画された HTML 、もしくは描画された HTML を解決する Promise を返す関数を指定できます。これにより、テンプレート文字列、そしてテンプレート描画プロセスにあり得る非同期な操作を利用できます。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("アプリケーションコンポーネントの描画結果の文字列")]),this._v(" "),s("li",[this._v("描画コンテキストオブジェクト")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" context"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`<html>\n      <head>")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("context"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("head"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("</head>\n      <body>")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("result"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("</body>\n    <html>`")])]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"clientmanifest"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#clientmanifest","aria-hidden":"true"}},[this._v("#")]),this._v(" clientManifest")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#inject","aria-hidden":"true"}},[this._v("#")]),this._v(" inject")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("template")]),this._v(" 使用時に、自動挿入を行うかどうかを制御します。デフォルトは "),s("code",[this._v("true")]),this._v(" です。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"shouldpreload"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldpreload","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPreload")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("どのファイルが "),s("code",[this._v('<link rel="preload">')]),this._v(" 生成済みのリソースヒント持つべきか制御するための関数を指定します。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("画像やフォントのようなその他のアセット種別を指定した際、 多すぎるプリロードは処理能力を無駄にし、またパフォーマンスさえも損なうかもしれません。そのため、 プリロードすべきものはアプリケーションの実装依存になるでしょう。 次のように "),s("code",[this._v("shouldPreload")]),this._v(" オプションを使用することで、プリロードすべきものを正確に制御できます。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createBundleRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("bundle"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  clientManifest"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  shouldPreload"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// type はファイル拡張子に基づいて推論されます")]),t._v("\n    "),a("span",{attrs:{class:"token comment"}},[t._v("// https://fetch.spec.whatwg.org/#concept-request-destination")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'script'")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("||")]),t._v(" type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'style'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'font'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// woff2 フォントのプリロードのみ")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("/")]),t._v("\\"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("woff2$"),a("span",{attrs:{class:"token operator"}},[t._v("/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("test")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("type "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'image'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// 重要な画像のプリロードのみ")]),t._v("\n      "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" file "),a("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'hero.jpg'")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"shouldprefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shouldprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" shouldPrefetch")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("2.5.0 以降")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("どのファイルに "),s("code",[this._v('<link rel="prefetch">')]),this._v(" リソースヒントが生成されるべきかを制御する関数。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("標準では、非同期チャンクにおける全てのアセットは、これは優先順位が低いため、プリフェッチされます。ただし、帯域幅の使用を適切に制御するために、プリフェッチするためにカスタマイズすることができます。このオプションは "),s("code",[this._v("shouldPreload")]),this._v(" と同様の関数シグネチャを必要とします。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"runinnewcontext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#runinnewcontext","aria-hidden":"true"}},[this._v("#")]),this._v(" runInNewContext")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[a("code",[t._v("createBundleRenderer")]),t._v(" メソッド内でのみ使用可能")]),t._v(" "),a("li",[t._v("要求事項: "),a("code",[t._v("boolean | 'once'")]),t._v(" ("),a("code",[t._v("'once'")]),t._v(" 2.3.1 以降でのみサポートされる)")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("このオプションは、下位互換のためデフォルトは "),s("code",[this._v("true")]),this._v(" です。しかし、可能ならば常に "),s("code",[this._v("runInNewContext: false")]),this._v(" または、"),s("code",[this._v("runInNewContext: 'once'")]),this._v("を使用することが推奨されます。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("2.3.0 では、このオプションは "),s("code",[this._v("runInNewContext: false")]),this._v(" が個別のグローバルコンテキストを使ってバンドルを実行するバグを持っています。以下の情報は、バージョン2.3.1以降を前提としています。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("runInNewContext: false")]),this._v(" の場合は、バンドルコードはサーバープロセスと同じ "),s("code",[this._v("global")]),this._v(" コンテキストで実行されるので、アプリケーションコード内で "),s("code",[this._v("global")]),this._v(" を変更するコードには注意してください。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("runInNewContext: 'once'")]),this._v(" (2.3.1 以降)の場合は、バンドルは別々の "),s("code",[this._v("global")]),this._v(" コンテキストで評価されますが、起動時には一度だけ評価されます。これにより、バンドルがサーバープロセスの "),s("code",[this._v("global")]),this._v(" オブジェクトを誤って汚染するのを防ぐので、より良いアプリケーションコードの分離が可能になります。注意点は次のとおりです:")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("このモードでは、 "),s("code",[this._v("global")]),this._v(" (例: ポリフィル) を変更する依存関係を外部化することはできません;")]),this._v(" "),s("li",[this._v("バンドル実行から返される値は、異なるグローバルコンストラクタを使用します。バンドルの内部で捕捉されたエラーはサーバプロセスの "),s("code",[this._v("Error")]),this._v(" のインスタンスにはなりません。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"basedir"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#basedir","aria-hidden":"true"}},[this._v("#")]),this._v(" basedir")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("code",[this._v("createBundleRenderer")]),this._v(" メソッド内でのみ使用可能")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("node_modules")]),this._v(" の依存関係を解決するために、サーババンドルのためのルートディレクトリを明示的に宣言します。 ここでは、インストール済み外部 npm 依存関係とは異なる場所に置かれた生成済みバンドルファイル、または、あなたの現在のプロジェクト内へ npm link された "),s("code",[this._v("vue-server-renderer")]),this._v(" のみが必要です。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"cache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cache","aria-hidden":"true"}},[this._v("#")]),this._v(" cache")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("type RenderCache "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" string "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  has"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token operator"}},[t._v("?")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" Function"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" boolean "),a("span",{attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("void")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("LRU")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'lru-cache'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("LRU")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    max"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token number"}},[t._v("10000")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("p",[t._v("キャッシュオブジェクトは、少なくても "),a("code",[t._v("get")]),t._v(" と "),a("code",[t._v("set")]),t._v(" を実装すべき点に注意してください。加えて、"),a("code",[t._v("get")]),t._v(" と "),a("code",[t._v("has")]),t._v(" は、もし第 2 引数に callback が指定された場合、必要に応じてこれを非同期処理にできます。これは、非同期 API を使用したキャッシュの利用を可能にします。 例)以下のような redis クライアント使用する場合:")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  cache"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" cb"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("get")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// 任意のエラーがあれば処理")]),t._v("\n        "),a("span",{attrs:{class:"token function"}},[t._v("cb")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("res"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      redisClient"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token keyword"}},[t._v("set")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("key"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" val"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"directives"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#directives","aria-hidden":"true"}},[this._v("#")]),this._v(" directives")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("createRenderer")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  directives"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token function"}},[t._v("example")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("vnode"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" directiveMeta"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// ディレクティブのバインディングメタデータに基づいて vnode を変換する")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"serializer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serializer","aria-hidden":"true"}},[this._v("#")]),this._v(" serializer")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("2.6 で新規追加")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"サーバのみのコンポーネントオプション"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#サーバのみのコンポーネントオプション","aria-hidden":"true"}},[this._v("#")]),this._v(" サーバのみのコンポーネントオプション")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"servercachekey"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#servercachekey","aria-hidden":"true"}},[this._v("#")]),this._v(" serverCacheKey")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("型:")]),this._v(" "),s("code",[this._v("(props) => any")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("受信プロパティ (incoming props) に基づいたコンポーネントのキャッシュキーを返します。 "),s("code",[this._v("this")]),this._v(" にアクセスできません。\n2.6 以降、"),s("code",[this._v("false")]),this._v(" を返すことによってキャッシュを明示的に回避することができます。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"serverprefetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serverprefetch","aria-hidden":"true"}},[this._v("#")]),this._v(" serverPrefetch")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("型:")]),this._v(" "),s("code",[this._v("() => Promise<any>")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("サーバサイドレンダリング中に非同期データをフェッチします。この関数はフェッチしたデータをグローバルストアに保存し、Promise を返します。サーバレンダラはこのフック上で Promise が解決されるまで待ちます。このフックは "),s("code",[this._v("this")]),this._v(" 経由でコンポーネントインスタンスにアクセスします。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"webpack-プラグイン"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack-プラグイン","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack プラグイン")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRServerPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/server-plugin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" VueSSRClientPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v("'vue-server-renderer/client-plugin'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("サーバサイドプラグインのための "),s("code",[this._v("vue-ssr-server-bundle.json")])]),this._v(" "),s("li",[this._v("クライアントサイドプラグインのための "),s("code",[this._v("vue-ssr-client-manifest.json")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" plugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("VueSSRServerPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  filename"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'my-server-bundle.json'")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);e.options.__file="README.md";s.default=e.exports}}]);